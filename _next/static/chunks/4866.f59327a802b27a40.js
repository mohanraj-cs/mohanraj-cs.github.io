"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4866],{44866:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var i=n(85893),o=n(10508);var r=o.ZP.div.withConfig({componentId:"sc-1042897f-0"})`
  canvas {
    height: 100%;
    width: 100%;
  }
`,a=n(67294),s=n(56758),l=n(62065),c=n(34254);var d=e=>{let{containerRef:t,id:n,setLoading:i}=e;const{processes:{[n]:{libs:r=[]}={}}={}}=(0,s.z)(),{windowStates:{[n]:d}}=(0,l.k)(),{sizes:{titleBar:u}}=(0,o.Fg)(),{size:f}=d||{};(0,a.useEffect)((()=>{(0,c.mb)(r).then((()=>{window.ioq3&&(window.ioq3.viewport=t.current,window.ioq3.elementPointerLock=!0,window.ioq3.callMain([]),i(!1))}))}),[t,r,i]),(0,a.useEffect)((()=>{window.ioq3&&window.ioq3.setCanvasSize((0,c.Vy)(f?.width),(0,c.Vy)(f?.height)-u.height)}),[i,f,u.height]),(0,a.useEffect)((()=>()=>{try{window.ioq3?.exit()}catch{}window.AL?.contexts.forEach((e=>{let{ctx:t}=e;return t.close()}))}),[])},u=n(2742);var f=e=>{let{id:t}=e;return(0,i.jsx)(u.Z,{StyledComponent:r,id:t,useHook:d})}},2742:function(e,t,n){var i=n(85893),o=n(5152),r=n.n(o),a=n(67294),s=n(56758),l=n(55785);const c=r()((()=>n.e(6753).then(n.bind(n,26753))),{loadableGenerated:{webpack:()=>[26753]}}),d=e=>{let{id:t,useHook:n,StyledComponent:o,children:r}=e;const{processes:{[t]:{url:d=""}={}}}=(0,s.z)(),u=(0,a.useRef)(null),[f,w]=(0,a.useState)(!0),h=(0,a.useMemo)((()=>({contain:"strict",visibility:f?"hidden":"visible"})),[f]);return n({containerRef:u,id:t,loading:f,setLoading:w,url:d}),(0,i.jsxs)(i.Fragment,{children:[f&&(0,i.jsx)(c,{}),(0,i.jsx)(o,{ref:u,style:h,...(0,l.Z)({id:t}),children:r})]})};t.Z=(0,a.memo)(d)},55785:function(e,t,n){var i=n(1864),o=n(67294),r=n(62727),a=n(6529),s=n(42151),l=n(26724),c=n(56758),d=n(62065),u=n(64358),f=n(34254);t.Z=e=>{let{callback:t,directory:n=u.Ll,id:w,onDragLeave:h,onDragOver:m,updatePositions:v}=e;const{url:p}=(0,c.z)(),{iconPositions:g,sortOrders:b,setIconPositions:y}=(0,d.k)(),{mkdirRecursive:L,updateFolder:k,writeFile:x}=(0,l.o)(),E=(0,o.useCallback)((async(e,t,n)=>{if(w)if(t){const o=(0,i.join)(u.Ll,e);if(await L(u.Ll),await x(o,t,!0))return n===s.v.UPDATE_URL&&p(w,o),k(u.Ll,e),(0,i.basename)(o)}else n===s.v.UPDATE_URL&&p(w,e);return""}),[w,L,k,p,x]),{openTransferDialog:D}=(0,r.Z)();return{onDragLeave:h,onDragOver:e=>{m?.(e),(0,f.nK)(e)},onDrop:e=>{if(!u.my.has((0,f.RT)(n))){if(v&&e.target instanceof HTMLElement){const{files:t,text:o}=(0,a.p4)(e);if(0===t.length&&""===o)return;const r={x:e.clientX,y:e.clientY};let s=[];if(o){try{s=JSON.parse(o)}catch{}if(!Array.isArray(s))return;const[e]=s;if(!e)return;if(e.startsWith(n)&&(0,i.basename)(e)===(0,i.relative)(n,e))return;s=s.map((e=>(0,i.basename)(e)))}else s=t instanceof FileList?[...t].map((e=>e.name)):[...t].map((e=>e.getAsFile()?.name||"")).filter(Boolean);s=s.map((e=>{if(!g[`${n}/${e}`])return e;let t=0,o="";do{t+=1,o=`${n}/${(0,i.basename)(e,(0,i.extname)(e))} (${t})${(0,i.extname)(e)}`}while(g[o]);return(0,i.basename)(o)})),(0,f.vi)(n,e.target,g,b,r,s,y)}(0,a.WG)(e,t||E,n,D,Boolean(w))}}}}}}]);