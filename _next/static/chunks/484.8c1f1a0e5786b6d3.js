"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[484,6753,631],{50631:function(e,t,n){n.r(t),n.d(t,{Back:function(){return i},Down:function(){return l},Forward:function(){return s},Refresh:function(){return a},Search:function(){return A},Up:function(){return c}});var r=n(85893),o=n(67294);const i=(0,o.memo)((()=>(0,r.jsx)("svg",{viewBox:"-8 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M32 14v4H7.656l7.172 7.172L12 28 0 16 12 4l2.828 2.828L7.656 14H32z"})}))),s=(0,o.memo)((()=>(0,r.jsx)("svg",{viewBox:"8 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"m20 4 12 12-12 12-2.828-2.828L24.344 18H0v-4h24.344l-7.172-7.172L20 4z"})}))),a=(0,o.memo)((()=>(0,r.jsx)("svg",{viewBox:"-10 -13 52 52",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M20.266.594q2.594.703 4.75 2.195t3.711 3.531 2.414 4.516T32 16q0 2.203-.57 4.25t-1.609 3.828-2.5 3.242-3.242 2.5-3.828 1.609-4.25.57-4.25-.57-3.828-1.609-3.242-2.5-2.5-3.242-1.609-3.82T.002 16q0-2.188.578-4.25t1.648-3.883T4.83 4.554t3.453-2.555H4.002v-2h8v8h-2V3.358q-1.828.875-3.305 2.195T4.174 8.522t-1.609 3.555-.563 3.922q0 1.922.5 3.711t1.414 3.344 2.195 2.836 2.836 2.195 3.336 1.414 3.719.5q1.922 0 3.711-.5t3.344-1.414 2.836-2.195 2.195-2.836 1.414-3.336.5-3.719q0-2.344-.758-4.516T27.127 7.53t-3.242-3.086-4.148-1.93l.531-1.922z"})}))),l=(0,o.memo)((e=>{let{flip:t}=e;const n=(0,o.useMemo)((()=>t?{transform:"scaleY(-1)",transition:"all 0.2s"}:void 0),[t]);return(0,r.jsx)("svg",{style:n,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"m28.109 5.453 3.781 3.766L15.999 25.11.108 9.219l3.781-3.766 12.109 12.109L28.107 5.453z"})})})),c=(0,o.memo)((()=>{const e=(0,o.useMemo)((()=>({marginTop:"-1px"})),[]);return(0,r.jsx)("svg",{style:e,viewBox:"0 -7 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"m16 0 12 12-2.828 2.828L18 7.656V32h-4V7.656l-7.172 7.172L4 12 16 0z"})})})),A=(0,o.memo)((()=>(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M21 0q1.516 0 2.922.391T26.547 1.5t2.227 1.727 1.727 2.227 1.109 2.625.391 2.922-.391 2.922-1.109 2.625-1.727 2.227-2.227 1.727-2.625 1.109-2.922.391q-1.953 0-3.742-.656t-3.289-1.891L1.703 31.705q-.297.297-.703.297t-.703-.297T0 31.002t.297-.703l12.25-12.266q-1.234-1.5-1.891-3.289T10 11.002q0-1.516.391-2.922T11.5 5.455t1.727-2.227 2.227-1.727T18.079.392t2.922-.391zm0 20q1.859 0 3.5-.711t2.859-1.93 1.93-2.859T30 11t-.711-3.5-1.93-2.859-2.859-1.93T21 2t-3.5.711-2.859 1.93-1.93 2.859T12 11t.711 3.5 1.93 2.859 2.859 1.93T21 20z"})})))},10484:function(e,t,n){n.r(t),n.d(t,{default:function(){return T}});var r=n(85893),o=n(1864),i=n(67294),s=n(50631),a=n(10508);var l=a.ZP.div.withConfig({componentId:"sc-4b72021-0"})`
  background-position: 2px 5px;
  background-repeat: no-repeat;
  background-size: 16px;
  border: 1px solid rgb(83, 83, 83);
  display: flex;
  height: 30px;
  margin: 6px 12px 6px 5px;
  padding: 0 22px 2px 24px;
  position: relative;
  width: 100%;

  input {
    background-color: rgb(25, 25, 25);
    border-right: 1px solid rgb(21, 21, 21);
    color: #fff;
    font-family: ${e=>{let{theme:t}=e;return t.formats.systemFont}};
    font-size: 12px;
    font-weight: 400;
    height: 28px;
    padding-bottom: 2px;
    text-overflow: ellipsis;
    white-space: nowrap;
    width: calc(100% - 6px);
  }

  img {
    left: 2px;
    position: absolute;
    top: 5px;
  }

  #refresh {
    background-color: rgb(25, 25, 25);
    height: 28px;
    margin: 0;
    position: absolute;
    right: 0;
    stroke: rgb(128, 128, 128);
    stroke-width: 3;
    top: 0;
    width: 28px;

    &:hover {
      background-color: rgb(27, 41, 49);
      border: 1px solid rgb(34, 114, 153);
    }

    &:active {
      background-color: rgb(28, 57, 71);
      border: 1px solid rgb(38, 160, 218);
    }
  }
`,c=n(54314);var A=e=>{const{contextMenu:t}=(0,c.H)();return(0,i.useMemo)((()=>t?.((()=>[{action:()=>navigator.clipboard?.writeText(e),label:"Copy address"}]))),[e,t])},u=n(26724),d=n(56758),p=n(30663),h=n(42362),g=n(64358),x=n(34254);var f=(0,i.forwardRef)(((e,t)=>{let{id:n}=e;const a=t,{url:c,processes:{[n]:{icon:f,url:m=""}}}=(0,d.z)(),w=(0,o.basename)(m)||g.SP,[b,v]=(0,i.useState)(w),{exists:C,updateFolder:k}=(0,u.o)();return(0,i.useEffect)((()=>{a.current&&(b===m?a.current.select():b===w?window.getSelection()?.removeAllRanges():document.activeElement!==a.current&&v(w))}),[b,a,w,m]),(0,r.jsxs)(l,{children:[(0,r.jsx)(h.Z,{alt:w,imgSize:16,src:f}),(0,r.jsx)("input",{ref:a,"aria-label":"Address",enterKeyHint:"go",onBlurCapture:()=>v(w),onChange:e=>{let{target:t}=e;return v(t.value)},onFocusCapture:()=>v(m),onKeyDown:async e=>{let{key:t}=e;if("Enter"===t&&a.current){const{value:e}=a.current;e&&await C(e)&&c(n,e),a.current.blur()}},spellCheck:!1,type:"text",value:b,...A(m)}),(0,r.jsx)(p.Z,{id:"refresh",onClick:()=>k(m),...(0,x.PS)(`Refresh "${w}" (F5)`),children:(0,r.jsx)(s.Refresh,{})})]})}));var m=a.ZP.div.withConfig({componentId:"sc-22fbf6bc-0"})`
  border: 1px solid rgb(83, 83, 83);
  display: flex;
  height: 30px;
  margin: 6px 12px 6px 0;
  max-width: 148px;
  padding: 0;
  position: relative;
  width: 100%;

  svg {
    fill: rgb(113, 113, 113);
    height: 12px;
    left: 14px;
    pointer-events: none;
    position: absolute;
    stroke: rgb(113, 113, 113);
    stroke-width: 1;
    top: 8px;
  }

  input {
    background-color: rgb(25, 25, 25);
    color: #fff;
    font-family: ${e=>{let{theme:t}=e;return t.formats.systemFont}};
    font-size: 12px;
    font-weight: 400;
    height: 28px;
    padding-bottom: 2px;
    padding-left: 40px;
    text-overflow: ellipsis;
    white-space: nowrap;
    width: 100%;
  }
`,w=n(64382),b=n(87426),v=n(22957);const C=e=>{let{id:t}=e;const[n,a]=(0,i.useState)(""),l=(0,i.useRef)(!1),{open:A,processes:{[t]:{url:u=""}}}=(0,d.z)(),p=(0,i.useRef)(null),h=(0,v.Rx)(n),{contextMenu:g}=(0,c.H)();return(0,i.useEffect)((()=>{if(p.current&&l.current){const e=()=>[...h.filter((e=>{let{ref:t}=e;return t.startsWith(u)})),...h.filter((e=>{let{ref:t}=e;return!t.startsWith(u)}))].slice(0,9).map((e=>{let{ref:t}=e;return{action:()=>{A((0,b.Wd)((0,x.RT)(t))||w.y[0],{url:t}),a(""),p.current&&(p.current.value="",p.current.blur())},icon:(0,b.sK)((0,x.RT)(t)),label:(0,o.basename)(t)}}));g?.(e).onContextMenuCapture(void 0,p.current.getBoundingClientRect())}}),[g,A,h,u]),(0,i.useEffect)((()=>{p.current&&(p.current.value="",a(""))}),[u]),(0,r.jsxs)(m,{children:[(0,r.jsx)(s.Search,{}),(0,r.jsx)("input",{ref:p,"aria-label":"Search box",enterKeyHint:"search",onChange:e=>{let{target:t}=e;l.current=!0,a(t.value)},onFocus:()=>(0,x.Q4)(v.O9),placeholder:"Search",spellCheck:!1,type:"text"})]})};var k=(0,i.memo)(C);var B=a.ZP.nav.withConfig({componentId:"sc-b01bb8a2-0"})`
  background-color: rgb(25, 25, 25);
  display: flex;
  height: ${e=>{let{theme:t}=e;return t.sizes.fileExplorer.navBarHeight}};

  button {
    height: 16px;
    margin: 13px 9px;
    width: 16px;

    svg {
      color: #fff;
      fill: currentColor;
      height: 16px;
      width: 16px;

      &:hover {
        color: rgb(50, 152, 254);
        transition: fill 0.5s ease;
      }

      &:active {
        color: rgb(54, 116, 178);
        transition: none;
      }
    }

    &[title^="Up"] {
      margin-right: 8px;
      position: relative;
      right: -8px;
    }

    &[title="Recent locations"] {
      left: 56px;
      position: absolute;

      svg {
        stroke: currentColor;
        stroke-width: 3px;
        width: 6px;
      }
    }

    &:disabled {
      svg {
        color: rgb(140, 140, 140);

        &:hover,
        &:active {
          color: rgb(140, 140, 140);
        }
      }
    }
  }
`,S=n(13645),E=n(19682);var j=(0,i.forwardRef)(((e,t)=>{let{hideSearch:n,id:a}=e;const{url:l,processes:{[a]:{url:A=""}}}=(0,d.z)(),u="/"===A?"":(0,o.basename)((0,o.dirname)(A)),{contextMenu:h}=(0,c.H)(),{canGoBack:m,canGoForward:w,history:b,moveHistory:v,position:C}=(0,E.Z)(A,a),{onContextMenuCapture:j}=(0,i.useMemo)((()=>h?.((()=>b.map(((e,t)=>({action:()=>v(t-C),checked:C===t,label:(0,o.basename)(e)||g.SP,primary:C===t}))).reverse()))),[h,b,v,C]);return(0,r.jsxs)(B,{...(0,S.Z)(a),onDragOver:x.nK,onDrop:x.nK,children:[(0,r.jsx)(p.Z,{disabled:!m,onClick:()=>v(-1),...(0,x.PS)(m?`Back to ${(0,o.basename)(b[C-1])||g.SP}`:"Back"),children:(0,r.jsx)(s.Back,{})}),(0,r.jsx)(p.Z,{disabled:!w,onClick:()=>v(1),...(0,x.PS)(w?`Forward to ${(0,o.basename)(b[C+1])||g.SP}`:"Forward"),children:(0,r.jsx)(s.Forward,{})}),(0,r.jsx)(p.Z,{disabled:1===b.length,onClick:j,...(0,x.PS)("Recent locations"),children:(0,r.jsx)(s.Down,{})}),(0,r.jsx)(p.Z,{disabled:"/"===A,onClick:()=>l(a,(0,o.dirname)(A)),...(0,x.PS)("/"===A?"Up one level":`Up to "${""===u?g.SP:u}"`),children:(0,r.jsx)(s.Up,{})}),(0,r.jsx)(f,{ref:t,id:a}),!n&&(0,r.jsx)(k,{id:a})]})})),R=n(26753),y=n(62392),z=n(1347);var M=a.ZP.div.withConfig({componentId:"sc-278f846e-0"})`
  ${z.Z} {
    column-gap: 2px;
    height: ${e=>{let{theme:t}=e;return`calc(100% - ${t.sizes.fileExplorer.navBarHeight} - ${t.sizes.fileExplorer.statusBarHeight})`}};
    padding-left: 5px;
    padding-right: 5px;
  }

  ${R.default} {
    height: ${e=>{let{theme:t}=e;return`calc(100% - ${t.sizes.fileExplorer.navBarHeight} - ${t.sizes.fileExplorer.statusBarHeight})`}};
  }

  ${y.Z} {
    &:hover {
      &::before {
        border-width: 0;
      }
    }

    &::before {
      border-width: 0;
    }
  }
`,F=n(98537);var T=e=>{let{id:t}=e;const{icon:n,title:s,processes:{[t]:a},url:l}=(0,d.z)(),{componentWindow:c,closing:A,icon:p="",url:h=""}=a||{},{fs:f,rootFs:m}=(0,u.o)(),[w,v]=(0,i.useState)(h),C=(0,i.useRef)(null),k=(0,o.basename)(h),B=Boolean(m?.mntMap[h]&&k),S=(0,i.useCallback)((e=>{e.altKey&&"D"===e.key.toUpperCase()&&((0,x.nK)(e),C?.current?.focus(g.eS))}),[]);return(0,i.useEffect)((()=>{h&&(s(t,k||g.SP),(!p||h!==w||B&&p!==g.iR)&&(B?n(t,"FileSystemAccess"===m?.mntMap[h].getName()?g.iR:g.Wc):f&&(n(t,`/System/Icons/${k?"folder":"pc"}.webp`),(0,b.nR)(f,h).then((e=>{e&&n(t,e)}))),v(h)))}),[w,k,f,p,t,B,m?.mntMap,n,l,s,h]),(0,i.useEffect)((()=>{!c||A||h||(l(t,"/"),n(t,"/System/Icons/pc.webp"))}),[A,t,c,n,l,h]),(0,i.useEffect)((()=>(c?.addEventListener("keydown",S),()=>c?.removeEventListener("keydown",S))),[c,S]),h?(0,r.jsxs)(M,{children:[(0,r.jsx)(j,{ref:C,hideSearch:B,id:t}),(0,r.jsx)(F.Z,{id:t,url:h,view:"icon",showStatusBar:!0})]}):null}},26753:function(e,t,n){n.r(t);const r=n(10508).ZP.div.withConfig({componentId:"sc-29e5eb62-0"})`
  cursor: wait;
  height: 100%;
  width: 100%;

  &::before {
    color: #fff;
    content: "Working on it...";
    display: flex;
    font-size: 12px;
    justify-content: center;
    mix-blend-mode: difference;
    padding-top: 18px;
  }
`;t.default=r},13645:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(67294);const o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAABnRSTlMAAAAAAABupgeRAAAAMElEQVR4AWMgEoyC2TCAwsYPFqMCouzZCQPEOmzvnj0QRJTqo6iAgOoLMIDCHsYAACjTO7/gCQlBAAAAAElFTkSuQmCC";var i=n(25420),s=n(54314),a=n(56758),l=n(64358);var c=e=>{const{contextMenu:t}=(0,s.H)(),{onClose:n,onMaximize:c,onMinimize:A}=(0,i.Z)(e),{processes:{[e]:u}}=(0,a.z)(),{allowResizing:d=!0,hideMaximizeButton:p,hideMinimizeButton:h,maximized:g,minimized:x}=u||{};return(0,r.useMemo)((()=>t?.((()=>{const e=g||x,t=!p||!h;return[t&&{action:x?A:c,disabled:!e,icon:e?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAABnRSTlMAAAAAAABupgeRAAAAOklEQVR4AWMYVmA2BiBN/6JFi3DKrcUAEEGcGnZiAIggTg1HwQCNDSSpp+H8hQtoiECAXMcADMMbAABMtF75qvi0qwAAAABJRU5ErkJggg==":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAJElEQVR42mNABaPA09PzPzZMsaFk20x/A2D8gTIAE9Mp+kYBAJPzT5+OMe9rAAAAAElFTkSuQmCC",label:"Restore"},!h&&{action:A,disabled:x,icon:x?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGElEQVR42mMYPGAUjAJPT8//+DCNDRgFAPTaHaFVv24VAAAAAElFTkSuQmCC":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAIUlEQVR42mMYPGAUjIIDBw78x4cJGnDu3Ln/+DB+3aMAAPFzNUFuAVJEAAAAAElFTkSuQmCC",label:"Minimize"},!p&&{action:c,disabled:e||!d,icon:e?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAHklEQVR42mOgEhgFnp6e//Fh+hmALj5UDBj4QBwFANQKUXn4YyGJAAAAAElFTkSuQmCC":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAR0lEQVR42u3IoRHAMAzFUO+/gllKG5IgD2DujX4vC8ikMO9ORHb9xN1FWWc8Q5R15jt1gs/22jrBZxGhE3yWmaKsU1Wi7EIfHneIsXEKuhAAAAAASUVORK5CYII=",label:"Maximize"},t&&l.Os,{action:n,icon:o,label:"Close"}].filter(Boolean)}))),[d,t,p,h,g,x,n,c,A])}},25420:function(e,t,n){var r=n(67294),o=n(52625),i=n(56758),s=n(62065);t.Z=e=>{const t=(0,o.Z)(e),{setForegroundId:n,removeFromStack:a}=(0,s.k)(),{closeWithTransition:l,maximize:c,minimize:A}=(0,i.z)();return{onClose:(0,r.useCallback)((()=>{a(e),l(e),n(t)}),[l,e,t,a,n]),onMaximize:()=>c(e),onMinimize:()=>{A(e),n(t)}}}},52625:function(e,t,n){var r=n(56758),o=n(62065);t.Z=e=>{const{stackOrder:t=[]}=(0,o.k)(),{processes:n}=(0,r.z)();return t.find((t=>t!==e&&!n?.[t]?.minimized))||""}},19682:function(e,t,n){var r=n(67294),o=n(56758);t.Z=(e,t)=>{const{url:n}=(0,o.z)(),[i,s]=(0,r.useState)(e),[a,l]=(0,r.useState)((()=>[e])),[c,A]=(0,r.useState)(0),u=(0,r.useCallback)((e=>{const r=c+e;A(r),s(a[r]),n(t,a[r])}),[n,a,t,c]);return(0,r.useEffect)((()=>{e!==i&&(A(c+1),s(e),l([...a.slice(0,c+1),e]))}),[i,a,c,e]),{canGoBack:c>0,canGoForward:c<a.length-1,currentUrl:i,history:a,moveHistory:u,position:c}}},22957:function(e,t,n){n.d(t,{O9:function(){return c},Kk:function(){return p},Rx:function(){return h}});var r=n(1864),o=n(67294),i=n(26724),s=JSON.parse('{"I":[".cache",".json",".url"],"K":[".md",".txt",".whtml"]}'),a=n(64358),l=n(34254);const c=["/System/lunr/lunr.min.js"];let A=Object.create(null);const u=async(e,t)=>{if(window.lunr||await(0,l.mb)(c),!t&&!A?.search){const e=await fetch("/.index/search.lunr.json",a.P8);try{A=window.lunr?.Index.load(JSON.parse(await e.text()))}catch{}}const n=t??A;let r=[];try{r=n.search?.(e),0===r?.length&&(r=n.search?.(`${e}*`))}catch{}return r??[]},d=async(e,t)=>{const n=t?._getFs("/")?.fs,o=n?.getOverlayedFileSystems(),i=o?.writable,a=Object.keys(i?._cache?.map??{}).filter((e=>{const t=(0,l.RT)(e);return Boolean(t)&&!s.I.includes(t)})),c=await Promise.all(a.map((async t=>({name:(0,r.basename)(t,(0,r.extname)(t)),path:t,text:s.K.includes((0,l.RT)(t))?(await e(t)).toString():void 0})))),A=window.lunr?.((function(){this.ref("path"),this.field("name"),this.field("text"),c.forEach((e=>this.add(e)))}));return window.lunr?.Index.load(A.toJSON())},p=async(e,t,n)=>{const r=await u(e),o=await d(t,n);return[...r,...await u(e,o)].sort(((e,t)=>t.score-e.score))},h=e=>{const[t,n]=(0,o.useState)([]),{readFile:r,rootFs:s}=(0,i.o)();return(0,o.useEffect)((()=>{(async()=>{e.length>0?(window.lunr||await(0,l.mb)(c),u(e).then(n),d(r,s).then((t=>u(e,t).then((e=>n((t=>[...t,...e].sort(((e,t)=>t.score-e.score))))))))):n([])})()}),[r,s,e]),t}}}]);