"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[218],{40218:function(e,n,t){t.r(n),t.d(n,{default:function(){return p}});var r=t(85893),i=t(10508).ZP.div.withConfig({componentId:"sc-8b072f9d-0"})`
  canvas {
    height: 100%;
    object-fit: contain;
    width: 100%;
  }
`,o=t(1864),a=t(67294);const s="/Program Files/DX-Ball/dx-ball.sav",l=["DXBall","audioName","i","source","game","soundon","saveron","myFonts","font","animframe","color","FontList","lFile","canvas","ctx","file","c","descender","_0x56c3xc","temp","cl","user","paus","paused","naudio","nflash","audio","balls","bricks","bullets","bang","flash","records","lightning","shadow","chcur","highscore","saver","y","x","mouse","paddle","bonus","requestAnimFrame","curX","j","height","xp","yp","_0x56c3x8","vm"];var c=t(26724),u=t(56758),d=t(64358),f=t(34254),m=t(11498),b=e=>{let{id:n,setLoading:t}=e;const{readFile:r,writeFile:i,updateFolder:b}=(0,c.o)(),{processes:{[n]:w}}=(0,u.z)(),{closing:p,libs:h=[]}=w||{},g=(0,a.useRef)(),v=(0,a.useRef)(!0);(0,a.useEffect)((()=>{r(s).then((e=>{g.current=e.toString()})).catch((()=>{g.current=""}))}),[r]),(0,a.useEffect)((()=>{v.current&&(v.current=!1,(0,f.mb)(h,void 0,!0).then((()=>{window.DXBall?.init(((e,n)=>(g.current=`${g.current?`${g.current}\r`:""}#&${n}&${e}`.split("\r").map((e=>e.split("&"))).sort(((e,n)=>{let[,t]=e,[,r]=n;return Number(r)-Number(t)})).map(((e,n)=>{let[,t,r]=e;return`${n}&${t}&${r}`})).join("\r"),i(s,g.current,!0),b((0,o.dirname)(s),(0,o.basename)(s)),`${g.current}\r`))),t(!1)})))}),[h,t,b,i]),(0,a.useEffect)((()=>()=>{!v.current&&p&&(window.DXBall.close(),setTimeout((()=>(0,m.od)(l)),d.jx.WINDOW))}),[p])},w=t(2742),p=e=>{let{id:n}=e;return(0,r.jsx)(w.Z,{StyledComponent:i,id:n,useHook:b,children:(0,r.jsx)("canvas",{id:"dx-ball",onContextMenuCapture:f.nK})})}},2742:function(e,n,t){var r=t(85893),i=t(5152),o=t.n(i),a=t(67294),s=t(56758),l=t(55785);const c=o()((()=>t.e(6753).then(t.bind(t,26753))),{loadableGenerated:{webpack:()=>[26753]}});n.Z=(0,a.memo)((e=>{let{id:n,useHook:t,StyledComponent:i,children:o}=e;const{processes:{[n]:{url:u=""}={}}}=(0,s.z)(),d=(0,a.useRef)(null),[f,m]=(0,a.useState)(!0),b=(0,a.useMemo)((()=>({contain:"strict",visibility:f?"hidden":"visible"})),[f]);return t({containerRef:d,id:n,loading:f,setLoading:m,url:u}),(0,r.jsxs)(r.Fragment,{children:[f&&(0,r.jsx)(c,{}),(0,r.jsx)(i,{ref:d,style:b,...(0,l.Z)({id:n}),children:o})]})}))},55785:function(e,n,t){var r=t(1864),i=t(67294),o=t(62727),a=t(6529),s=t(42151),l=t(26724),c=t(56758),u=t(62065),d=t(64358),f=t(34254);n.Z=e=>{let{callback:n,directory:t=d.Ll,id:m,onDragLeave:b,onDragOver:w,updatePositions:p}=e;const{url:h}=(0,c.z)(),{iconPositions:g,sortOrders:v,setIconPositions:x}=(0,u.k)(),{mkdirRecursive:y,updateFolder:k,writeFile:D}=(0,l.o)(),$=(0,i.useCallback)((async(e,n,t)=>{if(m)if(n){const i=(0,r.join)(d.Ll,e);if(await y(d.Ll),await D(i,n,!0))return t===s.v.UPDATE_URL&&h(m,i),k(d.Ll,e),(0,r.basename)(i)}else t===s.v.UPDATE_URL&&h(m,e);return""}),[m,y,k,h,D]),{openTransferDialog:j}=(0,o.Z)();return{onDragLeave:b,onDragOver:e=>{w?.(e),(0,f.nK)(e)},onDrop:e=>{if(!d.my.has((0,f.RT)(t))){if(p&&e.target instanceof HTMLElement){const{files:n,text:i}=(0,a.p4)(e);if(0===n.length&&""===i)return;const o={x:e.clientX,y:e.clientY};let s=[];if(i){try{s=JSON.parse(i)}catch{}if(!Array.isArray(s))return;const[e]=s;if(!e)return;if(e.startsWith(t)&&(0,r.basename)(e)===(0,r.relative)(t,e))return;s=s.map((e=>(0,r.basename)(e)))}else s=n instanceof FileList?[...n].map((e=>e.name)):[...n].map((e=>e.getAsFile()?.name||"")).filter(Boolean);s=s.map((e=>{if(!g[`${t}/${e}`])return e;let n=0,i="";do{n+=1,i=`${t}/${(0,r.basename)(e,(0,r.extname)(e))} (${n})${(0,r.extname)(e)}`}while(g[i]);return(0,r.basename)(i)})),(0,f.vi)(t,e.target,g,v,o,s,x)}(0,a.WG)(e,n||$,t,j,Boolean(m))}}}}},11498:function(e,n,t){t.d(n,{H3:function(){return a},od:function(){return r},wz:function(){return o}});const r=e=>e.forEach((e=>{if(e in window)try{delete window[e]}finally{Object.assign(window,{[e]:void 0})}})),i=(e,n)=>{window.lockedGlobals={...window.lockedGlobals,[e]:n}},o=e=>i(e,!0),a=e=>{Object.getOwnPropertyDescriptor(window,e)||(e=>{let n;Object.defineProperty(window,e,{get:()=>window.lockedGlobals?.[e]?void 0:n,set(t){window.lockedGlobals?.[e]||(n=t)}})})(e),i(e,!1)}}}]);